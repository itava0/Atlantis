<template>
  <lightning-card title="Filters" icon-name="standard:calibration">
    <lightning-button slot="actions" label="Reset" onclick={handleReset}></lightning-button>
    <c-property-filter-fields properties={properties} onfieldsupdate={handleFieldsUpdate}></c-property-filter-fields>
    <hr />
    <c-property-filter-distance properties={properties} ondistanceupdate={handleDistanceUpdate}></c-property-filter-distance>
    <hr />
    <c-property-filter-partners properties={properties} onpartnersupdate={handlePartnersUpdate}></c-property-filter-partners>

    <!-- ORIGINAL FILTERS, LEAVING UNTOUCHED UNTIL I CAN CONFIRM NEW VERSION WORKS WITH CHILD COMPONENTS -->
    <!--
    <lightning-button slot="actions" label="Reset" onclick={handleReset}></lightning-button>
    <div class="slds-var-m-around_medium">
      <div class="slds-grid">
        <div class="slds-col">
          <lightning-input label="Search Address" type="text" value={searchKey} onchange={handleSearchKeyChange}></lightning-input>
        </div>
        <div class="slds-col">
          <lightning-combobox label="Property Type" value={recordType} placeholder="Select Property Type" options={options} onchange={handleRecordTypeChange}></lightning-combobox>
        </div>
      </div>
      <lightning-slider label="Max Rent" step="1000" min="0" max="100000" value={maxPrice} onchange={handleMaxPriceChange}></lightning-slider>
      <lightning-slider label="Min Rating" step="1" min="0" max="5" value={minRating} onchange={handleMinRatingChange}></lightning-slider>
      <div class="slds-grid">
        <div class="slds-col">
          <lightning-slider label="Min Bedrooms" step="1" min="0" max="6" value={minBedrooms} onchange={handleMinBedroomsChange}></lightning-slider>
        </div>
        <div class="slds-col">
          <lightning-slider label="Min Bathrooms" step="1" min="0" max="6" value={minBathrooms} onchange={handleMinBathroomsChange}></lightning-slider>
        </div>
      </div>
    </div>
    <hr />
    <div class="slds-var-m-around_medium">
      <p><strong>Limit by Max Distance</strong></p>
      <lightning-input type="text" label="Enter street: " onchange={handleStreetChange} value={curStreet} disabled={useCurrentLocation}></lightning-input>
      <div class="slds-grid">
        <div class="slds-col slds-size_1-of-2">
          <lightning-input type="text" label="Enter city: " onchange={handleCityChange} value={curCity} disabled={useCurrentLocation}></lightning-input>
        </div>
        <div class="slds-col slds-size_1-of-2">
          <div class="slds-form-element">
            <div class="slds-form-element__control">
              <lightning-combobox id="select-01" name="State" label="Select State:" value={curState} placeholder="Georgia"
              options={stateOptions} onchange={handleStateChange} disabled={useCurrentLocation}></lightning-combobox>
            </div>
          </div>
        </div>
      </div>
      <div class="slds-grid">
        <div class="slds-col slds-size_1-of-2">
          <lightning-input type="text" label="Enter postal code: " onchange={handlePostalCodeChange} value={curPostalCode} disabled={useCurrentLocation}></lightning-input>
        </div>
        <div class="slds-col slds-size_1-of-2">
          <lightning-input type="number" label="Enter max distance (mi): " onchange={handleDistanceChange}></lightning-input>
        </div>
      </div>
      <br />
      <div class="slds-grid">
        <div class="slds-col slds-size_1-of-2">
          <lightning-button variant="success" label="Filter by Distance" onclick={getDistance}></lightning-button>
        </div>
        <div class="slds-col slds-size_1-of-2">
          <template if:true={userLocated}>
            <lightning-input type="checkbox" label="Current Location" onchange={handleUseCurrentLocationChange}></lightning-input>
          </template>
        </div>
      </div>
    </div>
    <hr />
    <div class="slds-var-m-around_medium">
      <div class="slds-align_absolute-center">
        <p><i>Atlantis is partnering with CXPW and Mooreland to display even more property options. Click below to enable these properties.</i></p>
      </div>
      <br>
      <div class="slds-grid">
        <div class="slds-col">
          <template if:true={cxpwEnabled}>
            <lightning-input type="toggle" value={cxpwEnabled} label="CXPW" checked
              message-toggle-active="Enabled" message-toggle-inactive="Disabled" onchange={handleCXPWProperties}></lightning-input>
          </template>
          <template if:false={cxpwEnabled}>
            <lightning-input type="toggle" value={cxpwEnabled} label="CXPW"
              message-toggle-active="Enabled" message-toggle-inactive="Disabled" onchange={handleCXPWProperties}></lightning-input>
          </template>
        </div>
        <div class="slds-col">
          <template if:true={moorelandEnabled}>
            <lightning-input type="toggle" value={moorelandEnabled} label="Mooreland" checked
              message-toggle-active="Enabled" message-toggle-inactive="Disabled" onchange={handleMoorelandProperties}></lightning-input>
          </template>
          <template if:false={moorelandEnabled}>
            <lightning-input type="toggle" value={moorelandEnabled} label="Mooreland"
              message-toggle-active="Enabled" message-toggle-inactive="Disabled" onchange={handleMoorelandProperties}></lightning-input>
          </template>
        </div>
      </div>
    </div>
    -->
  </lightning-card>
</template>