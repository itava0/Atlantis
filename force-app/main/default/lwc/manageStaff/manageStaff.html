<template>
    <lightning-card title="Staff" icon-name="standard:queue">
        <template if:true={hasStaff}>
                <template for:each={staff} for:item="staff">
                    <div class="slds-box" key={staff.Id}>
                        <lightning-tile title="Staff">
                            <div class="slds-grid">
                                <div class="slds-col">
                                    <lightning-icon icon-name="standard:people"></lightning-icon>
                                </div>
                                <div class="slds-col">
                                    <p><strong>{staff.Account__r.Name}</strong></p>
                                    <p>{staff.Role__c}</strong></p>
                                </div>
                                <div class="slds-col">
                                    <lightning-button-menu alternative-text="Show menu">
                                        <lightning-menu-item value={staff.Account__c} label="View Profile" icon-name="utility:user" onclick={viewProfile}></lightning-menu-item>
                                        <lightning-menu-item value={staff.Id} label="Switch Role" icon-name="utility:product_transfer" onclick={switchRole}
                                            data-role={staff.Role__c} data-accountname={staff.Account__r.Name} data-propertyname={staff.Property__r.Billing_Street__c}></lightning-menu-item>
                                        <lightning-menu-item value={staff.Id} data-accountid={staff.Account__c} data-accountname={staff.Account__r.Name}
                                            data-role={staff.Role__c} label="Reassign" icon-name="utility:replace" onclick={reassign}></lightning-menu-item>
                                        <lightning-menu-item value={staff.Id} data-accountname={staff.Account__r.Name} data-propertyname={staff.Property__r.Name}
                                            label="Remove" icon-name="utility:close" onclick={remove}></lightning-menu-item>
                                    </lightning-button-menu>
                                </div>
                            </div>
                        </lightning-tile>
                    </div>
                </template>
        </template>
        <template if:false={hasStaff}>
            <div class="slds-box slds-align_absolute-center">
                <i>There are no staff assigned to this property.</i><br><br>
                <lightning-button variant="brand" icon-name="utility:thunder" label="Assign" onclick={assignStaff}></lightning-button>
            </div>
        </template>
    </lightning-card>
</template>